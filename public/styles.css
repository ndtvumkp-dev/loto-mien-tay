@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;800;900&display=swap');

:root{
  --bg1:#060914;
  --bg2:#0b1023;
  --card:rgba(255,255,255,.06);
  --card2:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.08);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --shadow:0 18px 60px rgba(0,0,0,.45);
  --r:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Be Vietnam Pro",system-ui,Segoe UI,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(130,90,255,.18), transparent 60%),
    radial-gradient(900px 500px at 80% 20%, rgba(0,255,190,.10), transparent 55%),
    radial-gradient(900px 500px at 70% 90%, rgba(255,160,60,.10), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
}

.hidden{display:none !important}
.small{font-size:12px}
.tiny{font-size:11px}
.muted{color:var(--muted)}

.container{
  width:min(1200px, 92vw);
  margin:28px auto 60px;
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:18px;
}

.brand{
  display:flex; align-items:center; gap:12px;
}
.logo{
  width:42px;height:42px;border-radius:14px;
  display:grid;place-items:center;
  background:rgba(140,120,255,.18);
  border:1px solid rgba(140,120,255,.25);
  box-shadow:0 12px 35px rgba(0,0,0,.35);
  font-weight:900;
}
.brand h1{margin:0;font-size:18px;line-height:1.1}
.brand .sub{margin:2px 0 0;color:var(--muted);font-size:12px}

.actions{display:flex;gap:10px;align-items:center}

.btn{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  color:var(--text);
  padding:10px 14px;
  border-radius:14px;
  cursor:pointer;
  font-weight:800;
  transition:.15s transform, .15s background, .15s border-color, .15s opacity;
  user-select:none;
}
.btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.09)}
.btn:active{transform:translateY(0px) scale(.99)}
.btn:disabled{opacity:.45;cursor:not-allowed;transform:none}

.btn-primary{
  border-color:rgba(140,120,255,.35);
  background:linear-gradient(180deg, rgba(140,120,255,.55), rgba(120,90,255,.30));
}
.btn-danger{
  border-color:rgba(255,90,120,.35);
  background:linear-gradient(180deg, rgba(255,90,120,.55), rgba(255,90,120,.25));
}
.btn-ghost{background:transparent}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--stroke);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  padding:16px;
}

.grid2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}
@media(max-width: 980px){
  .grid2{grid-template-columns:1fr}
}

input, select{
  width:100%;
  background:rgba(0,0,0,.25);
  border:1px solid var(--stroke);
  color:var(--text);
  padding:12px 12px;
  border-radius:14px;
  outline:none;
  font-weight:700;
}
label{display:block;margin:8px 0 6px;font-weight:800}
.formRow{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width: 700px){.formRow{grid-template-columns:1fr}}

.footer{
  margin-top:18px;
  text-align:center;
  color:rgba(255,255,255,.45);
  font-weight:700;
}

.pill{
  display:inline-flex;
  align-items:center;
  padding:4px 10px;
  border-radius:999px;
  font-weight:900;
  font-size:11px;
  border:1px solid var(--stroke);
  margin-left:8px;
}
.pill.wait{background:rgba(255,255,255,.06)}
.pill.play{background:rgba(140,120,255,.15);border-color:rgba(140,120,255,.25)}
.pill.end{background:rgba(255,140,60,.12);border-color:rgba(255,140,60,.22)}

.tag{
  display:inline-flex;
  padding:4px 10px;
  border-radius:999px;
  font-weight:900;
  font-size:11px;
  margin-right:6px;
  border:1px solid var(--stroke);
}
.tag.host{background:rgba(140,120,255,.16);border-color:rgba(140,120,255,.25)}
.tag.ready{background:rgba(0,255,190,.10);border-color:rgba(0,255,190,.18)}
.tag.wait{background:rgba(255,255,255,.06)}
.tag.elim{background:rgba(255,90,120,.14);border-color:rgba(255,90,120,.22)}

.player-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
  margin-bottom:10px;
}
.player-name{font-weight:900}

.room-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
  margin-bottom:10px;
}
.room-title{font-weight:900}
.room-meta{color:var(--muted);font-size:12px;margin-top:2px}

.deckGrid{
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:14px;
}
@media(max-width: 900px){.deckGrid{grid-template-columns:1fr}}

.deck-card{
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  padding:12px;
  transition:.15s transform, .15s border-color, .15s background;
  cursor:pointer;
}
.deck-card:hover{transform:translateY(-2px);border-color:rgba(140,120,255,.22)}
.deck-card.selected{border-color:rgba(0,255,190,.22);box-shadow:0 0 0 2px rgba(0,255,190,.10) inset}
.deck-card.disabled{opacity:.55;cursor:not-allowed;transform:none}

.ticket-img-wrap{display:flex;flex-direction:column;gap:10px;align-items:center}
.ticket-img{
  width:100%;
  height:auto;
  display:block;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
.ticket-img-note{margin-top:-2px}

/* ===== Game layout bits (nếu HTML bạn đang dùng những id này) ===== */
.history{
  display:flex;flex-wrap:wrap;gap:8px;
}
.hnum{
  width:40px;height:34px;border-radius:999px;
  display:grid;place-items:center;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  font-weight:900;
}
.hnum.latest{
  border-color:rgba(140,120,255,.35);
  box-shadow:0 0 0 2px rgba(140,120,255,.16) inset;
}

.toast{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:16px;
  z-index:9999;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.55);
  box-shadow:0 18px 50px rgba(0,0,0,.45);
  font-weight:900;
}
.toast.ok{border-color:rgba(0,255,190,.22)}
.toast.err{border-color:rgba(255,90,120,.25)}
.toast.warn{border-color:rgba(255,180,80,.25)}

/* ================================
   ✅ FIX TICK OVERLAY (QUAN TRỌNG)
   ================================ */
.ticketPlayWrap{
  position:relative;
  width:100%;
  max-width:640px;
  margin:0 auto;
}
.ticketPlayImg{
  width:100%;
  height:auto;
  display:block;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 18px 55px rgba(0,0,0,.40);
  user-select:none;
  -webkit-user-drag:none;
  pointer-events:none; /* ảnh không bắt click */
}

/* overlay phủ toàn ảnh */
.ticketOverlayAbs{
  position:absolute;
  inset:0;
  z-index:5;
}

/* mỗi ô click */
.ovAbsCell{
  position:absolute;
  border-radius:14px;
  cursor:pointer;
  pointer-events:auto;      /* ✅ BẮT CLICK Ở ĐÂY */
  background:rgba(0,0,0,0); /* trong suốt để nhìn số */
  border:2px solid rgba(140,120,255,0);
  transition:.12s transform, .12s background, .12s border-color, .12s box-shadow;
  touch-action:manipulation;
}
.ovAbsCell:hover{
  transform:translateY(-1px);
  background:rgba(140,120,255,.10);
}
.ovAbsCell.marked{
  background:rgba(140,120,255,.18);
  border-color:rgba(140,120,255,.45);
  box-shadow:0 0 0 4px rgba(140,120,255,.12) inset;
}

/* khi bị loại / không được thao tác */
.ticketOverlayAbs.disabled{
  pointer-events:none;
  filter:grayscale(.15);
  opacity:.85;
}
.ticketOverlayAbs.disabled .ovAbsCell{
  cursor:default;
}

/* Chat modal basic (nếu bạn đang dùng) */
.modal{
  position:fixed;
  inset:0;
  z-index:9998;
  background:rgba(0,0,0,.55);
  display:grid;
  place-items:center;
}
.modalCard{
  width:min(720px, 92vw);
  max-height:min(82vh, 720px);
  overflow:hidden;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(10,12,24,.92);
  box-shadow:0 18px 60px rgba(0,0,0,.55);
  display:flex;
  flex-direction:column;
}
.modalHead{
  padding:12px 14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.chatBox{
  padding:12px 14px;
  overflow:auto;
  flex:1;
}
.msg{padding:10px 10px;border-radius:14px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);margin-bottom:10px}
.msg .meta{font-size:11px;color:rgba(255,255,255,.60);font-weight:800;margin-bottom:4px}
.chatSendRow{
  padding:12px 14px;
  display:flex;
  gap:10px;
  border-top:1px solid rgba(255,255,255,.10);
}
.chatSendRow input{flex:1}
